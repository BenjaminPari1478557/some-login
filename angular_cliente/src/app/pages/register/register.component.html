<div class="min-h-screen bg-gray-100 py-10 px-4">
  <div class="max-w-2xl mx-auto bg-white shadow-xl rounded-xl overflow-hidden">
    <div class="bg-indigo-600 px-8 py-6">
      <h2 class="text-2xl font-bold text-white">Registro de Cliente</h2>
      <p class="text-indigo-100 text-sm">
        Complete la información para dar de alta al nuevo usuario.
      </p>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="p-8 space-y-6">
      <div class="bg-indigo-50 border border-indigo-100 rounded-lg p-4 mb-6">
        <label class="block text-xs font-semibold text-indigo-600 uppercase mb-2">
          Token de Seguridad (Editable para pruebas de validación)
        </label>
        <input
          type="text"
          formControlName="token_seguridad"
          class="w-full bg-white border border-indigo-200 rounded px-3 py-2 font-mono text-sm focus:ring-2 focus:ring-indigo-500"
        />
        <p class="text-[10px] text-indigo-400 mt-1 italic">
          * El entrevistador puede modificar este valor para probar el error 401.
        </p>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-medium text-gray-700 mb-3"
          >Selecciona tu Bono de Bienvenida</label
        >
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div
            *ngFor="let bono of bonos"
            (click)="setBono(bono.id)"
            [class.border-indigo-600]="registerForm.get('bono_bienvenida')?.value === bono.id"
            [class.bg-indigo-50]="registerForm.get('bono_bienvenida')?.value === bono.id"
            [class.border-gray-200]="registerForm.get('bono_bienvenida')?.value !== bono.id"
            class="cursor-pointer border-2 p-4 rounded-xl transition-all hover:shadow-md"
          >
            <div class="flex justify-between items-start">
              <h4
                class="font-bold text-sm"
                [class.text-indigo-700]="registerForm.get('bono_bienvenida')?.value === bono.id"
              >
                {{ bono.titulo }}
              </h4>
              <div
                *ngIf="registerForm.get('bono_bienvenida')?.value === bono.id"
                class="text-indigo-600"
              >
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path
                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293l-4 4a1 1 0 01-1.414 0l-2-2a1 1 0 111.414-1.414L9 10.586l3.293-3.293a1 1 0 111.414 1.414z"
                  ></path>
                </svg>
              </div>
            </div>
            <p class="text-xs text-gray-500 mt-1">{{ bono.desc }}</p>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Tipo Documento</label>
          <select
            formControlName="tipo_documento"
            class="w-full p-2 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          >
            <option value="DNI">DNI</option>
            <option value="CE">C.E.</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Número de Documento</label>
          <input
            type="text"
            formControlName="nro_documento"
            [class.border-red-500]="f['nro_documento'].touched && f['nro_documento'].errors"
            class="w-full p-2 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          />
          <p
            *ngIf="f['nro_documento'].touched && f['nro_documento'].errors"
            class="text-red-500 text-xs mt-1"
          >
            Requerido (min. 8 caracteres)
          </p>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Nombres</label>
          <input
            type="text"
            formControlName="nombres"
            class="w-full p-2 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Apellidos</label>
          <input
            type="text"
            formControlName="apellidos"
            class="w-full p-2 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          />
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Correo Electrónico</label>
        <input
          type="email"
          formControlName="email"
          [class.border-red-500]="f['email'].touched && f['email'].errors"
          class="w-full p-2 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          placeholder="ejemplo@correo.com"
        />
        <p *ngIf="f['email'].touched && f['email'].errors" class="text-red-500 text-xs mt-1">
          Ingrese un correo válido.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Fecha de Nacimiento</label>
          <input
            type="date"
            formControlName="fecha_nacimiento"
            [max]="maxDate"
            [class.border-red-500]="f['fecha_nacimiento'].touched && f['fecha_nacimiento'].errors"
            class="w-full p-2 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          />
          <p
            *ngIf="f['fecha_nacimiento'].touched && f['fecha_nacimiento'].errors"
            class="text-red-500 text-xs mt-1"
          >
            Debe ser mayor de edad (18+).
          </p>
        </div>
      </div>

      <div class="pt-4">
        <button
          type="submit"
          [disabled]="registerForm.invalid"
          class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
        >
          REGISTRAR CLIENTE
        </button>
      </div>
    </form>
  </div>
</div>
